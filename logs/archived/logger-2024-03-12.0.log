2024-03-12 21:59:37,516 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 14916 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 21:59:37,518 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 21:59:37,921 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 21:59:37,958 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 21:59:38,275 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 21:59:38,283 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 21:59:38,283 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 21:59:38,284 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 21:59:38,335 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 21:59:38,335 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 785 ms
2024-03-12 21:59:38,430 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 21:59:38,461 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 21:59:38,562 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 21:59:38,640 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 21:59:38,644 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 21:59:38,853 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1282f784
2024-03-12 21:59:38,856 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 21:59:38,894 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 21:59:39,378 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 21:59:39,384 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 21:59:39,519 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 21:59:39,574 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 21:59:39,605 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 21:59:39,630 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 21:59:39,685 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 21:59:39,791 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1735e1c4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ec09a68, org.springframework.security.web.context.SecurityContextHolderFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@11fa11b2, org.springframework.security.web.authentication.logout.LogoutFilter@5cb32140, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e12fdcf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a1d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da9b32c, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.AuthorizationFilter@78e59b04]
2024-03-12 21:59:39,899 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 21:59:39,936 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 21:59:39,947 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 21:59:39,952 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.671 seconds (process running for 3.224)
2024-03-12 21:59:49,165 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 21:59:49,165 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2024-03-12 21:59:49,166 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 0 ms
2024-03-12 21:59:49,171 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing PUT /posts?id=3
2024-03-12 21:59:49,600 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 21:59:49,600 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 21:59:49,608 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured PUT /posts?id=3
2024-03-12 21:59:49,619 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-2] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 21:59:49,668 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Get post
2024-03-12 22:01:06,336 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:01:06,338 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:01:06,342 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:01:09,846 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 19996 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:01:09,849 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:01:10,253 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:01:10,291 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 22:01:10,604 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:01:10,610 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:01:10,611 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:01:10,611 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:01:10,662 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:01:10,663 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 783 ms
2024-03-12 22:01:10,764 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:01:10,795 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:01:10,899 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:01:10,979 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:01:10,982 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:01:11,196 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2d4f67e
2024-03-12 22:01:11,197 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:01:11,235 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:01:11,722 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:01:11,728 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:01:11,869 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:01:11,923 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:01:11,956 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:01:11,979 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:01:12,034 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:01:12,138 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da9b32c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e5c8c80, org.springframework.security.web.context.SecurityContextHolderFilter@727de450, org.springframework.security.web.header.HeaderWriterFilter@4c678a1f, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2003edf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7077ae9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22fe90df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.session.SessionManagementFilter@571903ff, org.springframework.security.web.access.ExceptionTranslationFilter@11fa11b2, org.springframework.security.web.access.intercept.AuthorizationFilter@5ed88e31]
2024-03-12 22:01:12,233 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:01:12,266 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:01:12,278 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:01:12,282 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.679 seconds (process running for 3.214)
2024-03-12 22:01:21,373 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:01:21,373 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:01:21,374 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 22:01:21,379 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing PUT /posts?id=3
2024-03-12 22:01:21,821 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:01:21,822 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:01:21,829 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured PUT /posts?id=3
2024-03-12 22:01:21,840 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:01:21,891 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get post
2024-03-12 22:02:25,952 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:02:25,953 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:02:25,957 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:06:20,238 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 19764 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:06:20,240 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:06:20,669 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:06:20,709 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2024-03-12 22:06:21,024 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:06:21,030 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:06:21,030 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:06:21,031 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:06:21,093 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:06:21,094 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 823 ms
2024-03-12 22:06:21,188 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:06:21,218 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:06:21,323 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:06:21,403 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:06:21,406 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:06:21,619 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6caa4dc5
2024-03-12 22:06:21,621 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:06:21,687 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:06:22,233 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:06:22,239 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:06:22,394 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:06:22,452 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:06:22,480 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:06:22,506 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:06:22,570 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:06:22,710 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5418893c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22ba30b0, org.springframework.security.web.context.SecurityContextHolderFilter@5aefdb9e, org.springframework.security.web.header.HeaderWriterFilter@6de4071b, org.springframework.security.web.authentication.logout.LogoutFilter@574e4184, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@fef2768, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@80b6098, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19d3f4fb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22bca04e, org.springframework.security.web.session.SessionManagementFilter@da5b46f, org.springframework.security.web.access.ExceptionTranslationFilter@3f1e18b1, org.springframework.security.web.access.intercept.AuthorizationFilter@1735e1c4]
2024-03-12 22:06:22,808 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:06:22,843 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:06:22,857 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:06:22,862 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.881 seconds (process running for 3.42)
2024-03-12 22:06:27,497 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:06:27,497 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:06:27,498 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
2024-03-12 22:06:27,502 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing PUT /posts?id=3
2024-03-12 22:06:27,949 DEBUG o.s.s.a.d.DaoAuthenticationProvider [http-nio-8080-exec-2] Failed to authenticate since password does not match stored value
2024-03-12 22:06:27,950 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Failed to process authentication request
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:79)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:176)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-03-12 22:06:27,953 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 22:06:27,953 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@71d4098
2024-03-12 22:06:27,956 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing PUT /error?id=3
2024-03-12 22:06:27,957 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to anonymous SecurityContext
2024-03-12 22:06:27,965 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 22:06:27,965 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-2] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@71d4098
2024-03-12 22:06:41,445 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /posts?id=3
2024-03-12 22:06:41,708 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:06:41,709 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=users, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USERS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USERS]]
2024-03-12 22:06:41,710 DEBUG o.s.s.w.a.AccessDeniedHandlerImpl [http-nio-8080-exec-3] Responding with 403 status code
2024-03-12 22:06:41,710 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /error?id=3
2024-03-12 22:06:41,711 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured PUT /error?id=3
2024-03-12 22:09:53,001 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:09:53,003 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:09:53,007 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:10:28,701 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 11236 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:10:28,703 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:10:29,131 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:10:29,182 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2024-03-12 22:10:29,577 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:10:29,583 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:10:29,585 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:10:29,585 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:10:29,647 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:10:29,647 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 909 ms
2024-03-12 22:10:29,745 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:10:29,779 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:10:29,892 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:10:29,974 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:10:29,977 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:10:30,211 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@135e49b2
2024-03-12 22:10:30,213 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:10:30,253 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:10:30,773 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:10:30,779 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:10:30,929 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:10:30,985 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:10:31,015 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:10:31,041 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:10:31,117 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:10:31,233 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [ru/kduskov/vkapi/config/WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter
2024-03-12 22:10:31,234 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:10:31,235 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-03-12 22:10:31,239 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-03-12 22:10:31,240 INFO o.a.j.l.DirectJDKLog [main] Stopping service [Tomcat]
2024-03-12 22:10:31,248 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-03-12 22:10:31,262 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [ru/kduskov/vkapi/config/WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at ru.kduskov.vkapi.ApiApplication.main(ApiApplication.java:11)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'filterChain' defined in class path resource [ru/kduskov/vkapi/config/WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:640)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 36 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/security/oauth2/client/web/OAuth2LoginAuthenticationFilter
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.oauth2Login(HttpSecurity.java:2524)
	at ru.kduskov.vkapi.config.WebSecurityConfig.filterChain(WebSecurityConfig.java:36)
	at ru.kduskov.vkapi.config.WebSecurityConfig$$SpringCGLIB$$0.CGLIB$filterChain$2(<generated>)
	at ru.kduskov.vkapi.config.WebSecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:257)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at ru.kduskov.vkapi.config.WebSecurityConfig$$SpringCGLIB$$0.filterChain(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 47 common frames omitted
2024-03-12 22:13:28,889 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 22580 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:13:28,892 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:13:29,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:13:29,352 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2024-03-12 22:13:29,668 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:13:29,674 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:13:29,674 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:13:29,676 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:13:29,732 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:13:29,733 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 810 ms
2024-03-12 22:13:29,828 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:13:29,860 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:13:29,966 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:13:30,050 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:13:30,054 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:13:30,267 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c92a549
2024-03-12 22:13:30,269 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:13:30,307 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:13:30,805 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:13:30,811 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:13:30,950 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:13:31,002 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:13:31,027 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:13:31,053 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:13:31,111 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:13:31,228 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53b9952f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bdddfa4, org.springframework.security.web.context.SecurityContextHolderFilter@689eab53, org.springframework.security.web.header.HeaderWriterFilter@6f9999f6, org.springframework.security.web.authentication.logout.LogoutFilter@64e247e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@70ab1ce0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c9168c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f1e18b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e12fdcf, org.springframework.security.web.session.SessionManagementFilter@755033c5, org.springframework.security.web.access.ExceptionTranslationFilter@7dc963be, org.springframework.security.web.access.intercept.AuthorizationFilter@74267ece]
2024-03-12 22:13:31,340 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:13:31,375 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:13:31,387 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:13:31,392 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.745 seconds (process running for 3.315)
2024-03-12 22:13:51,891 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:13:51,891 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:13:51,892 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 22:13:51,897 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing PUT /posts?id=3
2024-03-12 22:13:52,336 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:13:52,337 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=users, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USERS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_USERS]]
2024-03-12 22:13:52,344 DEBUG o.s.s.w.a.AccessDeniedHandlerImpl [http-nio-8080-exec-1] Responding with 403 status code
2024-03-12 22:13:52,346 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing PUT /error?id=3
2024-03-12 22:13:52,349 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured PUT /error?id=3
2024-03-12 22:14:06,545 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /posts?id=3
2024-03-12 22:14:06,805 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:14:06,805 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:14:06,806 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured PUT /posts?id=3
2024-03-12 22:14:06,810 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:14:06,841 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Get post with id 3
2024-03-12 22:14:07,054 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Update post with id 3
2024-03-12 22:17:10,702 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:17:10,703 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:17:10,708 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:26:17,965 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 12844 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:26:17,968 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:26:18,447 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:26:18,492 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2024-03-12 22:26:18,829 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:26:18,837 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:26:18,837 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:26:18,838 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:26:18,900 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:26:18,901 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 903 ms
2024-03-12 22:26:19,007 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:26:19,039 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:26:19,140 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:26:19,223 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:26:19,226 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:26:19,450 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6cf047cf
2024-03-12 22:26:19,452 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:26:19,493 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:26:19,995 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:26:20,001 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:26:20,142 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:26:20,194 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:26:20,224 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:26:20,250 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:26:20,308 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:26:20,417 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e564c78, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@470866d1, org.springframework.security.web.context.SecurityContextHolderFilter@325236f5, org.springframework.security.web.header.HeaderWriterFilter@3f0b5619, org.springframework.security.web.authentication.logout.LogoutFilter@d7c00de, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6f30d0eb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73633230, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34a99d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11267e87, org.springframework.security.web.session.SessionManagementFilter@1372696b, org.springframework.security.web.access.ExceptionTranslationFilter@1728d307, org.springframework.security.web.access.intercept.AuthorizationFilter@229c4d34]
2024-03-12 22:26:20,518 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:26:20,549 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:26:20,561 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:26:20,565 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.858 seconds (process running for 3.421)
2024-03-12 22:26:41,266 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:26:41,267 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:26:41,268 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 22:26:41,273 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /posts/1/comments
2024-03-12 22:26:41,711 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:26:41,712 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 22:26:41,721 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /posts/1/comments
2024-03-12 22:26:41,733 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:26:41,737 INFO r.k.v.c.PostController [http-nio-8080-exec-1] GET request for post with id 1
2024-03-12 22:26:41,737 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get comments for post with id 1
2024-03-12 22:27:23,601 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:27:23,602 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:27:23,607 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:28:42,159 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 22404 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:28:42,162 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:28:42,574 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:28:42,613 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2024-03-12 22:28:42,926 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:28:42,932 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:28:42,932 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:28:42,932 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:28:42,986 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:28:42,986 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 794 ms
2024-03-12 22:28:43,085 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:28:43,116 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:28:43,218 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:28:43,297 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:28:43,300 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:28:43,507 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32e830a0
2024-03-12 22:28:43,509 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:28:43,547 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:28:44,029 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:28:44,035 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:28:44,172 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:28:44,226 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:28:44,258 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:28:44,283 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:28:44,336 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:28:44,441 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da9b32c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e5c8c80, org.springframework.security.web.context.SecurityContextHolderFilter@727de450, org.springframework.security.web.header.HeaderWriterFilter@4c678a1f, org.springframework.security.web.authentication.logout.LogoutFilter@62c1259f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2003edf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7077ae9c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22fe90df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46df794e, org.springframework.security.web.session.SessionManagementFilter@571903ff, org.springframework.security.web.access.ExceptionTranslationFilter@11fa11b2, org.springframework.security.web.access.intercept.AuthorizationFilter@5ed88e31]
2024-03-12 22:28:44,535 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:28:44,568 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:28:44,581 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:28:44,585 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.668 seconds (process running for 3.187)
2024-03-12 22:28:49,116 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:28:49,117 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:28:49,117 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 22:28:49,122 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /posts/1/comments
2024-03-12 22:28:49,558 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:28:49,559 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 22:28:49,568 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /posts/1/comments
2024-03-12 22:28:49,580 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:28:49,583 INFO r.k.v.c.PostController [http-nio-8080-exec-1] GET request for post with id 1
2024-03-12 22:28:49,583 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get comments for post with id 1
2024-03-12 22:29:07,628 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:29:07,629 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:29:07,635 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:29:11,553 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 3980 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:29:11,555 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:29:11,968 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:29:12,008 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2024-03-12 22:29:12,334 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:29:12,340 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:29:12,341 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:29:12,341 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:29:12,396 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:29:12,396 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 811 ms
2024-03-12 22:29:12,515 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:29:12,548 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:29:12,650 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:29:12,733 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:29:12,736 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:29:12,951 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79b63325
2024-03-12 22:29:12,954 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:29:12,993 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:29:13,505 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:29:13,510 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:29:13,656 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:29:13,715 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:29:13,751 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:29:13,781 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:29:13,841 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:29:13,954 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5cd6a827, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cd65042, org.springframework.security.web.context.SecurityContextHolderFilter@3fe3ebb3, org.springframework.security.web.header.HeaderWriterFilter@248ba4fc, org.springframework.security.web.authentication.logout.LogoutFilter@3e265811, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7da9b32c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f30d0eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@470866d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7674f9d4, org.springframework.security.web.session.SessionManagementFilter@727de450, org.springframework.security.web.access.ExceptionTranslationFilter@217009bd, org.springframework.security.web.access.intercept.AuthorizationFilter@556e4588]
2024-03-12 22:29:14,054 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:29:14,092 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:29:14,106 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:29:14,110 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.796 seconds (process running for 3.327)
2024-03-12 22:29:15,249 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:29:15,250 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:29:15,250 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 22:29:15,255 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /posts/1/comments
2024-03-12 22:29:15,684 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:29:15,684 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 22:29:15,694 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /posts/1/comments
2024-03-12 22:29:15,705 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:29:15,709 INFO r.k.v.c.PostController [http-nio-8080-exec-1] GET request for post with id 1
2024-03-12 22:29:15,709 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get comments for post with id 1
2024-03-12 22:29:15,710 ERROR r.k.v.s.PostService [http-nio-8080-exec-1] ERROR: d != java.lang.String
2024-03-12 22:29:25,388 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:29:25,390 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:29:25,395 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:29:28,940 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 22376 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:29:28,942 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:29:29,369 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:29:29,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 22:29:29,722 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:29:29,728 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:29:29,728 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:29:29,729 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:29:29,783 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:29:29,783 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 807 ms
2024-03-12 22:29:29,884 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:29:29,917 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:29:30,021 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:29:30,104 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:29:30,107 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:29:30,322 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32e830a0
2024-03-12 22:29:30,324 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:29:30,363 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:29:30,871 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:29:30,877 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:29:31,038 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:29:31,093 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:29:31,123 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:29:31,150 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:29:31,214 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:29:31,333 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7827cdfc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a0f4282, org.springframework.security.web.context.SecurityContextHolderFilter@47d7e4b6, org.springframework.security.web.header.HeaderWriterFilter@dc3eda6, org.springframework.security.web.authentication.logout.LogoutFilter@689eab53, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7a491a60, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49e92724, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47fbf95e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19d3f4fb, org.springframework.security.web.session.SessionManagementFilter@13e6c544, org.springframework.security.web.access.ExceptionTranslationFilter@355b4c34, org.springframework.security.web.access.intercept.AuthorizationFilter@7077ae9c]
2024-03-12 22:29:31,428 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:29:31,461 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:29:31,475 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:29:31,482 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.795 seconds (process running for 3.322)
2024-03-12 22:29:31,683 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:29:31,683 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:29:31,684 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 22:29:31,689 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /posts/1/comments
2024-03-12 22:29:32,142 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:29:32,143 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 22:29:32,152 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /posts/1/comments
2024-03-12 22:29:32,164 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:29:32,168 INFO r.k.v.c.PostController [http-nio-8080-exec-1] GET request for post with id 1
2024-03-12 22:29:32,169 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get comments for post with id 1
2024-03-12 22:29:32,169 INFO r.k.v.s.PostService [http-nio-8080-exec-1] ENDPINT :/posts/1/comments
2024-03-12 22:29:32,421 INFO r.k.v.s.PostService [http-nio-8080-exec-1] LIST: java.util.stream.ReferencePipeline$Head@7cec2a48
2024-03-12 22:32:43,773 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:32:43,774 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:32:43,779 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:33:41,679 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 20608 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:33:41,680 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:33:42,090 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:33:42,129 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 22:33:42,437 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:33:42,443 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:33:42,443 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:33:42,444 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:33:42,495 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:33:42,496 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 784 ms
2024-03-12 22:33:42,594 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:33:42,624 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:33:42,724 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:33:42,802 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:33:42,805 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:33:43,012 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@32e830a0
2024-03-12 22:33:43,013 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:33:43,050 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:33:43,524 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:33:43,530 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:33:43,665 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:33:43,719 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:33:43,747 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:33:43,771 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:33:43,825 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:33:43,930 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46df794e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cd6a827, org.springframework.security.web.context.SecurityContextHolderFilter@7077ae9c, org.springframework.security.web.header.HeaderWriterFilter@6046fba0, org.springframework.security.web.authentication.logout.LogoutFilter@74267ece, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ec09a68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22a1d77b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e564c78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cd65042, org.springframework.security.web.session.SessionManagementFilter@3f1e18b1, org.springframework.security.web.access.ExceptionTranslationFilter@4c678a1f, org.springframework.security.web.access.intercept.AuthorizationFilter@3ad9fea]
2024-03-12 22:33:44,028 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:33:44,059 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:33:44,074 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:33:44,078 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.638 seconds (process running for 3.159)
2024-03-12 22:34:00,715 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:34:00,715 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:34:00,716 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 22:34:00,721 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /posts/1/comments
2024-03-12 22:34:01,151 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:34:01,152 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 22:34:01,161 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /posts/1/comments
2024-03-12 22:34:01,171 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:34:01,174 INFO r.k.v.c.PostController [http-nio-8080-exec-1] GET request for post with id 1
2024-03-12 22:34:01,174 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get comments for post with id 1
2024-03-12 22:34:01,175 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Send request to :https://jsonplaceholder.typicode.com/posts/1/comments
2024-03-12 22:34:33,127 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing PUT /posts?id=3
2024-03-12 22:34:33,388 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:34:33,388 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:34:33,389 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured PUT /posts?id=3
2024-03-12 22:34:33,397 INFO r.k.v.c.PostController [http-nio-8080-exec-3] PUT request for post with id 3 and params for update Post(userId=0, id=0, title=null, body=new body)
2024-03-12 22:34:33,397 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Get post with id 3
2024-03-12 22:34:33,507 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Update post with id 3
2024-03-12 22:34:33,507 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Send request to :https://jsonplaceholder.typicode.com/posts/3
2024-03-12 22:35:04,150 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:35:04,151 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:35:04,155 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:38:58,925 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 24224 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:38:58,927 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:38:59,349 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:38:59,387 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 22:38:59,692 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:38:59,698 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:38:59,699 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:38:59,699 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:38:59,750 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:38:59,750 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 794 ms
2024-03-12 22:38:59,843 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:38:59,873 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:38:59,971 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:39:00,048 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:39:00,051 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:39:00,254 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1c92a549
2024-03-12 22:39:00,255 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:39:00,293 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:39:00,765 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:39:00,771 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:39:00,904 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:39:00,954 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:39:00,985 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:39:01,014 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:39:01,066 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:39:01,171 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2003edf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1735e1c4, org.springframework.security.web.context.SecurityContextHolderFilter@571903ff, org.springframework.security.web.header.HeaderWriterFilter@d7c00de, org.springframework.security.web.authentication.logout.LogoutFilter@43c20142, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7bdddfa4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f1e18b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3fe3ebb3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ec09a68, org.springframework.security.web.session.SessionManagementFilter@1c24639e, org.springframework.security.web.access.ExceptionTranslationFilter@68ea1eb5, org.springframework.security.web.access.intercept.AuthorizationFilter@748fa354]
2024-03-12 22:39:01,264 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:39:01,296 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:39:01,311 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:39:01,315 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.627 seconds (process running for 3.15)
2024-03-12 22:39:08,729 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:39:08,730 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:39:08,736 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:39:11,016 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 13308 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:39:11,018 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:39:11,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:39:11,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 22:39:11,772 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:39:11,778 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:39:11,779 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:39:11,779 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:39:11,831 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:39:11,831 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 782 ms
2024-03-12 22:39:11,931 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:39:11,962 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:39:12,062 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:39:12,141 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:39:12,145 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:39:12,354 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1282f784
2024-03-12 22:39:12,355 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:39:12,395 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:39:12,877 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:39:12,882 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:39:13,019 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:39:13,071 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:39:13,105 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:39:13,130 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:39:13,181 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:39:13,286 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a491a60, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@80b6098, org.springframework.security.web.context.SecurityContextHolderFilter@13e6c544, org.springframework.security.web.header.HeaderWriterFilter@5039c2cf, org.springframework.security.web.authentication.logout.LogoutFilter@755033c5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@99f75e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b3b2290, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ba4b32b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c30decf, org.springframework.security.web.session.SessionManagementFilter@69d2c460, org.springframework.security.web.access.ExceptionTranslationFilter@4425b6ed, org.springframework.security.web.access.intercept.AuthorizationFilter@3f1e18b1]
2024-03-12 22:39:13,386 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:39:13,419 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:39:13,436 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:39:13,440 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.667 seconds (process running for 3.2)
2024-03-12 22:39:49,646 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:39:49,649 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:39:49,654 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:39:52,090 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 24572 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:39:52,092 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:39:52,499 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:39:52,537 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2024-03-12 22:39:52,844 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:39:52,851 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:39:52,851 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:39:52,851 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:39:52,908 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:39:52,909 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 784 ms
2024-03-12 22:39:52,997 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:39:53,027 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:39:53,130 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:39:53,207 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:39:53,210 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:39:53,422 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@708769b7
2024-03-12 22:39:53,424 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:39:53,462 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:39:53,951 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:39:53,956 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:39:54,094 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:39:54,149 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:39:54,183 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:39:54,209 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:39:54,262 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:39:54,367 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1735e1c4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ec09a68, org.springframework.security.web.context.SecurityContextHolderFilter@689ea211, org.springframework.security.web.header.HeaderWriterFilter@11fa11b2, org.springframework.security.web.authentication.logout.LogoutFilter@5cb32140, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1e12fdcf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@727de450, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22a1d77b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da9b32c, org.springframework.security.web.session.SessionManagementFilter@5c9168c3, org.springframework.security.web.access.ExceptionTranslationFilter@2e096ac0, org.springframework.security.web.access.intercept.AuthorizationFilter@78e59b04]
2024-03-12 22:39:54,462 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:39:54,496 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:39:54,508 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:39:54,512 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.665 seconds (process running for 3.203)
2024-03-12 22:40:12,854 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:40:12,856 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:40:12,861 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:48:38,789 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 18812 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:48:38,792 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:48:39,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:48:39,273 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2024-03-12 22:48:39,619 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:48:39,686 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 860 ms
2024-03-12 22:48:39,786 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:48:39,817 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:48:39,947 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:48:40,039 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:48:40,042 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:48:40,282 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@312a738d
2024-03-12 22:48:40,284 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:48:40,326 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:48:40,860 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:48:40,866 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:48:41,007 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:48:41,060 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:48:41,100 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:48:41,133 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:48:41,193 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:48:41,319 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@96448ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59509393, org.springframework.security.web.context.SecurityContextHolderFilter@1abd1a28, org.springframework.security.web.header.HeaderWriterFilter@20ad64c, org.springframework.security.web.authentication.logout.LogoutFilter@ebbbe20, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4e53c6ef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39a1e1e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50fe5df2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d6dc2b8, org.springframework.security.web.session.SessionManagementFilter@74ed7111, org.springframework.security.web.access.ExceptionTranslationFilter@600b3bee, org.springframework.security.web.access.intercept.AuthorizationFilter@589a4305]
2024-03-12 22:48:41,425 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:48:41,471 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:48:41,476 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.942 seconds (process running for 3.49)
2024-03-12 22:48:41,484 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:48:41,485 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:48:41,490 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:51:21,734 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 18164 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:51:21,737 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:51:22,194 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:51:22,238 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2024-03-12 22:51:22,605 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:51:22,612 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:51:22,613 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:51:22,613 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:51:22,677 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:51:22,677 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 908 ms
2024-03-12 22:51:22,783 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:51:22,816 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:51:22,926 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:51:23,006 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:51:23,009 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:51:23,227 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@42211e04
2024-03-12 22:51:23,228 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:51:23,270 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:51:23,777 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:51:23,782 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:51:23,932 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:51:23,993 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:51:24,032 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:51:24,065 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:51:24,125 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:51:24,261 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55cf5626, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8de8b07, org.springframework.security.web.context.SecurityContextHolderFilter@5f346355, org.springframework.security.web.header.HeaderWriterFilter@5c7d675c, org.springframework.security.web.authentication.logout.LogoutFilter@7156f8cf, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@59509393, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50fe5df2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@260fffec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b55f0a6, org.springframework.security.web.session.SessionManagementFilter@5478597, org.springframework.security.web.access.ExceptionTranslationFilter@4db45d, org.springframework.security.web.access.intercept.AuthorizationFilter@95aeee4]
2024-03-12 22:51:24,377 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:51:24,416 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:51:24,430 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:51:24,434 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.985 seconds (process running for 3.593)
2024-03-12 22:51:30,750 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:51:30,752 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:51:30,752 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 22:51:30,757 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /users/1
2024-03-12 22:51:31,191 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:51:31,192 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:51:31,201 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /users/1
2024-03-12 22:51:31,210 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:51:31,237 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.UserService
2024-03-12 22:51:31,240 INFO r.k.v.s.UserService [http-nio-8080-exec-1] Get user with id 1
2024-03-12 22:51:31,241 INFO r.k.v.s.UserService [http-nio-8080-exec-1] Send request to https://jsonplaceholder.typicode.com/users/1
2024-03-12 22:51:33,549 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /users/1
2024-03-12 22:51:33,812 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:51:33,813 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:51:33,813 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /users/1
2024-03-12 22:53:52,709 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:53:52,710 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:53:52,715 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:56:02,401 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 19724 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:56:02,403 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:56:02,840 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:56:02,881 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2024-03-12 22:56:03,215 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:56:03,221 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:56:03,221 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:56:03,221 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:56:03,281 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:56:03,282 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 848 ms
2024-03-12 22:56:03,380 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:56:03,415 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:56:03,519 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:56:03,599 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:56:03,602 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:56:03,824 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3b65084e
2024-03-12 22:56:03,825 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:56:03,863 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:56:04,354 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:56:04,360 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:56:04,503 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:56:04,557 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:56:04,604 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:56:04,633 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:56:04,694 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:56:04,826 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55a2f08b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a99744a, org.springframework.security.web.context.SecurityContextHolderFilter@1b08d26f, org.springframework.security.web.header.HeaderWriterFilter@53fd59d4, org.springframework.security.web.authentication.logout.LogoutFilter@4e53c6ef, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6b64921f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@752fecbf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eb73a42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32084a01, org.springframework.security.web.session.SessionManagementFilter@55731ccd, org.springframework.security.web.access.ExceptionTranslationFilter@50fe5df2, org.springframework.security.web.access.intercept.AuthorizationFilter@7b55f0a6]
2024-03-12 22:56:04,937 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:56:04,974 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:56:04,985 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:56:04,990 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.841 seconds (process running for 3.37)
2024-03-12 22:57:04,987 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:57:04,988 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:57:04,993 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:57:11,251 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 17704 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:57:11,254 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:57:11,683 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:57:11,724 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2024-03-12 22:57:12,074 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:57:12,080 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:57:12,080 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:57:12,080 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:57:12,136 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:57:12,136 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 851 ms
2024-03-12 22:57:12,241 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:57:12,275 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:57:12,377 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:57:12,455 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:57:12,458 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:57:12,670 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@48b2dbc4
2024-03-12 22:57:12,671 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:57:12,711 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:57:13,202 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:57:13,209 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:57:13,351 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:57:13,404 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:57:13,453 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:57:13,482 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:57:13,546 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:57:13,674 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27422187, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7205a8b7, org.springframework.security.web.context.SecurityContextHolderFilter@3fc7abf6, org.springframework.security.web.header.HeaderWriterFilter@341c0dfc, org.springframework.security.web.authentication.logout.LogoutFilter@54c17a2b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1028a747, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c6c93f8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1718de70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ee126de, org.springframework.security.web.session.SessionManagementFilter@55cf5626, org.springframework.security.web.access.ExceptionTranslationFilter@3dd27116, org.springframework.security.web.access.intercept.AuthorizationFilter@304704ae]
2024-03-12 22:57:13,777 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:57:13,813 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:57:13,824 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:57:13,829 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.936 seconds (process running for 3.487)
2024-03-12 22:58:15,322 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:58:15,323 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:58:15,328 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:58:19,724 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 19816 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:58:19,727 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:58:20,222 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:58:20,269 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2024-03-12 22:58:20,684 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:58:20,691 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:58:20,692 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:58:20,692 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:58:20,760 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:58:20,760 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 1002 ms
2024-03-12 22:58:20,878 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:58:20,918 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:58:21,028 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:58:21,109 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:58:21,111 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:58:21,346 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@53ba7997
2024-03-12 22:58:21,347 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:58:21,387 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:58:21,886 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:58:21,892 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:58:22,032 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:58:22,091 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:58:22,135 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:58:22,163 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:58:22,230 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:58:22,359 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22cce199, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14b4b25e, org.springframework.security.web.context.SecurityContextHolderFilter@38e88e13, org.springframework.security.web.header.HeaderWriterFilter@3f1d4ecf, org.springframework.security.web.authentication.logout.LogoutFilter@6bd8c398, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@27422187, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fe37d27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@457d3f54, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4babe06f, org.springframework.security.web.session.SessionManagementFilter@3fc7abf6, org.springframework.security.web.access.ExceptionTranslationFilter@7e0b68e5, org.springframework.security.web.access.intercept.AuthorizationFilter@7dd847a2]
2024-03-12 22:58:22,470 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:58:22,506 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:58:22,519 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:58:22,524 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 3.059 seconds (process running for 3.615)
2024-03-12 22:58:35,209 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:58:35,209 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:58:35,209 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 22:58:35,215 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /users/1
2024-03-12 22:58:35,662 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 22:58:35,663 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:58:35,670 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /users/1
2024-03-12 22:58:35,676 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8080-exec-1] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'DELETE' is not supported]
2024-03-12 22:58:35,679 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /error
2024-03-12 22:58:35,684 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /error
2024-03-12 22:58:50,104 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing DELETE /posts/1
2024-03-12 22:58:50,367 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:58:50,367 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:58:50,368 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured DELETE /posts/1
2024-03-12 22:58:50,371 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:58:50,375 INFO r.k.v.c.PostController [http-nio-8080-exec-3] DELETE request for post with id 1
2024-03-12 22:58:50,378 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Get post with id 1
2024-03-12 22:58:50,938 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 22:59:36,501 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:59:36,503 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 22:59:36,507 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 22:59:52,432 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 18580 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 22:59:52,434 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 22:59:52,878 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 22:59:52,921 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2024-03-12 22:59:53,280 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 22:59:53,285 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 22:59:53,286 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 22:59:53,287 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 22:59:53,350 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 22:59:53,351 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 887 ms
2024-03-12 22:59:53,460 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 22:59:53,493 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 22:59:53,599 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 22:59:53,679 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 22:59:53,683 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 22:59:53,894 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@61dd1c3d
2024-03-12 22:59:53,896 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 22:59:53,934 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 22:59:54,431 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 22:59:54,437 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 22:59:54,584 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 22:59:54,638 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 22:59:54,681 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 22:59:54,712 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 22:59:54,772 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 22:59:54,900 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2433bcd4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75d9b73c, org.springframework.security.web.context.SecurityContextHolderFilter@73753326, org.springframework.security.web.header.HeaderWriterFilter@4d359c69, org.springframework.security.web.authentication.logout.LogoutFilter@59509393, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1a99744a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2eb73a42, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a249610, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f1a3c4, org.springframework.security.web.session.SessionManagementFilter@565030b7, org.springframework.security.web.access.ExceptionTranslationFilter@260fffec, org.springframework.security.web.access.intercept.AuthorizationFilter@38e88e13]
2024-03-12 22:59:55,016 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 22:59:55,057 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 22:59:55,072 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 22:59:55,076 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.906 seconds (process running for 3.466)
2024-03-12 22:59:56,927 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 22:59:56,928 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2024-03-12 22:59:56,929 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
2024-03-12 22:59:56,933 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing DELETE /posts/1
2024-03-12 22:59:57,377 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 22:59:57,377 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:59:57,387 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured DELETE /posts/1
2024-03-12 22:59:57,397 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-2] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 22:59:57,400 INFO r.k.v.c.PostController [http-nio-8080-exec-2] DELETE request for post with id 1
2024-03-12 22:59:57,403 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Delete post with id 1
2024-03-12 22:59:57,403 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 22:59:57,734 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-2] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 22:59:58,752 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing DELETE /posts/1
2024-03-12 22:59:59,014 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 22:59:59,015 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 22:59:59,016 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured DELETE /posts/1
2024-03-12 22:59:59,017 INFO r.k.v.c.PostController [http-nio-8080-exec-3] DELETE request for post with id 1
2024-03-12 22:59:59,017 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Delete post with id 1
2024-03-12 22:59:59,017 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:00,160 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing DELETE /posts/1
2024-03-12 23:00:00,428 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:00:00,428 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:00:00,428 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured DELETE /posts/1
2024-03-12 23:00:00,430 INFO r.k.v.c.PostController [http-nio-8080-exec-4] DELETE request for post with id 1
2024-03-12 23:00:00,430 INFO r.k.v.s.PostService [http-nio-8080-exec-4] Delete post with id 1
2024-03-12 23:00:00,431 INFO r.k.v.s.PostService [http-nio-8080-exec-4] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:11,354 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Securing GET /posts/1
2024-03-12 23:00:11,617 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-5] Authenticated user
2024-03-12 23:00:11,617 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:11,618 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Secured GET /posts/1
2024-03-12 23:00:11,619 INFO r.k.v.c.PostController [http-nio-8080-exec-5] GET request for post with id 1
2024-03-12 23:00:11,620 INFO r.k.v.s.PostService [http-nio-8080-exec-5] Get post with id 1
2024-03-12 23:00:11,620 INFO r.k.v.s.PostService [http-nio-8080-exec-5] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:14,692 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Securing DELETE /posts/1
2024-03-12 23:00:14,953 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-6] Authenticated user
2024-03-12 23:00:14,954 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:00:14,955 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Secured DELETE /posts/1
2024-03-12 23:00:14,956 INFO r.k.v.c.PostController [http-nio-8080-exec-6] DELETE request for post with id 1
2024-03-12 23:00:14,956 INFO r.k.v.s.PostService [http-nio-8080-exec-6] Delete post with id 1
2024-03-12 23:00:14,956 INFO r.k.v.s.PostService [http-nio-8080-exec-6] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:18,675 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-7] Securing GET /posts/1
2024-03-12 23:00:18,936 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-7] Authenticated user
2024-03-12 23:00:18,936 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:18,937 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-7] Secured GET /posts/1
2024-03-12 23:00:18,938 INFO r.k.v.c.PostController [http-nio-8080-exec-7] GET request for post with id 1
2024-03-12 23:00:18,938 INFO r.k.v.s.PostService [http-nio-8080-exec-7] Get post with id 1
2024-03-12 23:00:18,939 INFO r.k.v.s.PostService [http-nio-8080-exec-7] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:19,921 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Securing GET /posts/1
2024-03-12 23:00:20,183 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-8] Authenticated user
2024-03-12 23:00:20,183 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:20,185 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Secured GET /posts/1
2024-03-12 23:00:20,185 INFO r.k.v.c.PostController [http-nio-8080-exec-8] GET request for post with id 1
2024-03-12 23:00:21,226 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Securing GET /posts/1
2024-03-12 23:00:21,490 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-9] Authenticated user
2024-03-12 23:00:21,491 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-9] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:21,492 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Secured GET /posts/1
2024-03-12 23:00:21,492 INFO r.k.v.c.PostController [http-nio-8080-exec-9] GET request for post with id 1
2024-03-12 23:00:22,194 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Securing GET /posts/1
2024-03-12 23:00:22,458 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-10] Authenticated user
2024-03-12 23:00:22,459 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:22,460 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Secured GET /posts/1
2024-03-12 23:00:22,460 INFO r.k.v.c.PostController [http-nio-8080-exec-10] GET request for post with id 1
2024-03-12 23:00:25,071 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /posts/1
2024-03-12 23:00:25,342 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:00:25,343 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:00:25,344 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /posts/1
2024-03-12 23:00:25,345 INFO r.k.v.c.PostController [http-nio-8080-exec-1] DELETE request for post with id 1
2024-03-12 23:00:25,345 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Delete post with id 1
2024-03-12 23:00:25,345 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:28,810 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing GET /posts/1
2024-03-12 23:00:29,072 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 23:00:29,072 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:29,073 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured GET /posts/1
2024-03-12 23:00:29,073 INFO r.k.v.c.PostController [http-nio-8080-exec-2] GET request for post with id 1
2024-03-12 23:00:29,074 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Get post with id 1
2024-03-12 23:00:29,074 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Send request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:00:31,876 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /posts/1
2024-03-12 23:00:32,144 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:00:32,144 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:00:32,145 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /posts/1
2024-03-12 23:00:32,146 INFO r.k.v.c.PostController [http-nio-8080-exec-3] GET request for post with id 1
2024-03-12 23:01:36,031 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:01:36,032 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:01:36,036 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:22:53,323 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 8692 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:22:53,324 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:22:53,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:22:53,809 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2024-03-12 23:22:54,154 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:22:54,161 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:22:54,161 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:22:54,161 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:22:54,226 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:22:54,226 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 872 ms
2024-03-12 23:22:54,329 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:22:54,360 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:22:54,457 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:22:54,539 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:22:54,543 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:22:54,806 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a51336a
2024-03-12 23:22:54,808 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:22:54,856 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:22:55,379 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:22:55,385 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:22:55,531 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:22:55,587 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:22:55,638 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:22:55,667 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:22:55,727 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:22:55,857 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1016b44e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c6c93f8, org.springframework.security.web.context.SecurityContextHolderFilter@53fd59d4, org.springframework.security.web.header.HeaderWriterFilter@3da6950f, org.springframework.security.web.authentication.logout.LogoutFilter@5e7ea81b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@8de8b07, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@260fffec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71dfca65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38e88e13, org.springframework.security.web.session.SessionManagementFilter@66e62e19, org.springframework.security.web.access.ExceptionTranslationFilter@981d9d2, org.springframework.security.web.access.intercept.AuthorizationFilter@63218586]
2024-03-12 23:22:55,971 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:22:56,012 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:22:56,027 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:22:56,032 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.947 seconds (process running for 3.476)
2024-03-12 23:23:30,590 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:23:30,591 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:23:30,592 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 23:23:30,597 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing POST /posts
2024-03-12 23:23:31,032 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:23:31,033 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:23:31,045 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured POST /posts
2024-03-12 23:23:31,116 INFO r.k.v.c.PostController [http-nio-8080-exec-1] POST request for post Post(userId=1, id=0, title=new title, body=new body)
2024-03-12 23:23:31,133 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 23:23:31,136 ERROR o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public int ru.kduskov.vkapi.service.PostService.create(ru.kduskov.vkapi.model.external.api.Post)] caches=[posts] | key='#id' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'] with root cause
java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public int ru.kduskov.vkapi.service.PostService.create(ru.kduskov.vkapi.model.external.api.Post)] caches=[posts] | key='#id' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:594)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at ru.kduskov.vkapi.service.PostService$$SpringCGLIB$$0.create(<generated>)
	at ru.kduskov.vkapi.controllers.PostController.post(PostController.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:202)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-03-12 23:23:31,141 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing POST /error
2024-03-12 23:23:31,143 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured POST /error
2024-03-12 23:24:05,403 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing POST /posts/1
2024-03-12 23:24:05,663 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:24:05,664 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:24:05,666 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured POST /posts/1
2024-03-12 23:24:05,667 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8080-exec-4] Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' is not supported]
2024-03-12 23:24:05,668 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing POST /error
2024-03-12 23:24:05,669 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured POST /error
2024-03-12 23:24:20,982 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Securing POST /posts
2024-03-12 23:24:21,242 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-5] Authenticated user
2024-03-12 23:24:21,243 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:24:21,243 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Secured POST /posts
2024-03-12 23:24:21,244 INFO r.k.v.c.PostController [http-nio-8080-exec-5] POST request for post Post(userId=1, id=0, title=new title, body=new body)
2024-03-12 23:24:21,246 ERROR o.a.j.l.DirectJDKLog [http-nio-8080-exec-5] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public int ru.kduskov.vkapi.service.PostService.create(ru.kduskov.vkapi.model.external.api.Post)] caches=[posts] | key='#id' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'] with root cause
java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) Builder[public int ru.kduskov.vkapi.service.PostService.create(ru.kduskov.vkapi.model.external.api.Post)] caches=[posts] | key='#id' | keyGenerator='' | cacheManager='' | cacheResolver='' | condition='' | unless='' | sync='false'
	at org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:594)
	at org.springframework.cache.interceptor.CacheAspectSupport.findCachedItem(CacheAspectSupport.java:535)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:402)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:345)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:64)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at ru.kduskov.vkapi.service.PostService$$SpringCGLIB$$0.create(<generated>)
	at ru.kduskov.vkapi.controllers.PostController.post(PostController.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:906)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:202)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-03-12 23:24:21,247 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Securing POST /error
2024-03-12 23:24:21,247 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Secured POST /error
2024-03-12 23:24:56,985 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:24:56,986 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:24:56,991 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:25:01,820 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 5348 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:25:01,822 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:25:02,279 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:25:02,319 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2024-03-12 23:25:02,654 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:25:02,660 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:25:02,660 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:25:02,661 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:25:02,710 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:25:02,710 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 854 ms
2024-03-12 23:25:02,808 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:25:02,839 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:25:02,947 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:25:03,023 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:25:03,026 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:25:03,235 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d8056bf
2024-03-12 23:25:03,238 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:25:03,276 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:25:03,755 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:25:03,760 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:25:03,897 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:25:03,949 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:25:03,994 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:25:04,027 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:25:04,090 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:25:04,209 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@533a27f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dd847a2, org.springframework.security.web.context.SecurityContextHolderFilter@341c0dfc, org.springframework.security.web.header.HeaderWriterFilter@22cf1808, org.springframework.security.web.authentication.logout.LogoutFilter@66d73e2d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6d387e9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@507fecf3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6164b3a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75b25ec3, org.springframework.security.web.session.SessionManagementFilter@2e2c9e24, org.springframework.security.web.access.ExceptionTranslationFilter@279e85eb, org.springframework.security.web.access.intercept.AuthorizationFilter@c7cbc2d]
2024-03-12 23:25:04,310 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:25:04,348 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:25:04,360 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:25:04,364 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.792 seconds (process running for 3.306)
2024-03-12 23:25:21,317 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:25:21,317 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:25:21,318 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 23:25:21,323 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing POST /posts
2024-03-12 23:25:21,757 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:25:21,758 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:25:21,766 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured POST /posts
2024-03-12 23:25:21,826 INFO r.k.v.c.PostController [http-nio-8080-exec-1] POST request for post Post(userId=1, id=0, title=new title, body=new body)
2024-03-12 23:25:21,841 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 23:25:21,846 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Create post with id 0
2024-03-12 23:25:21,846 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Send POST request to :https://jsonplaceholder.typicode.com/posts
2024-03-12 23:26:06,376 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing DELETE /posts/1
2024-03-12 23:26:06,640 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:26:06,640 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:26:06,641 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured DELETE /posts/1
2024-03-12 23:26:06,643 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 23:26:06,644 INFO r.k.v.c.PostController [http-nio-8080-exec-3] DELETE request for post with id 1
2024-03-12 23:26:06,645 INFO r.k.v.s.BaseService [http-nio-8080-exec-3] Delete post with id 1
2024-03-12 23:26:06,646 INFO r.k.v.s.BaseService [http-nio-8080-exec-3] Send DELETE request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:27:06,683 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing POST /albums?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:06,948 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:27:06,948 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:27:06,948 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured POST /albums?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:06,951 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8080-exec-4] Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<java.lang.String> ru.kduskov.vkapi.controllers.AlbumController.post(ru.kduskov.vkapi.model.external.api.Album)]
2024-03-12 23:27:06,955 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing POST /error?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:06,957 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured POST /error?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:12,083 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Securing POST /albums?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:12,346 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-6] Authenticated user
2024-03-12 23:27:12,347 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:27:12,347 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Secured POST /albums?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:12,348 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8080-exec-6] Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<java.lang.String> ru.kduskov.vkapi.controllers.AlbumController.post(ru.kduskov.vkapi.model.external.api.Album)]
2024-03-12 23:27:12,349 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Securing POST /error?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:12,350 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Secured POST /error?title=%22test%20title%22&userId=1&id=2
2024-03-12 23:27:41,761 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Securing POST /albums
2024-03-12 23:27:42,025 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-8] Authenticated user
2024-03-12 23:27:42,025 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:27:42,026 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Secured POST /albums
2024-03-12 23:27:42,027 INFO r.k.v.c.AlbumController [http-nio-8080-exec-8] Album request for Album ru.kduskov.vkapi.model.external.api.Album@77a4cf30
2024-03-12 23:27:42,028 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-8] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.AlbumService
2024-03-12 23:27:42,029 INFO r.k.v.s.AlbumService [http-nio-8080-exec-8] Create album with id 3
2024-03-12 23:27:42,029 INFO r.k.v.s.AlbumService [http-nio-8080-exec-8] Send POST request to :https://jsonplaceholder.typicode.com/albums
2024-03-12 23:27:55,873 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Securing POST /albums
2024-03-12 23:27:56,136 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-9] Authenticated user
2024-03-12 23:27:56,136 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-9] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:27:56,137 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Secured POST /albums
2024-03-12 23:27:56,138 INFO r.k.v.c.AlbumController [http-nio-8080-exec-9] Album request for Album ru.kduskov.vkapi.model.external.api.Album@33719b24
2024-03-12 23:27:56,138 INFO r.k.v.s.AlbumService [http-nio-8080-exec-9] Create album with id 0
2024-03-12 23:27:56,138 INFO r.k.v.s.AlbumService [http-nio-8080-exec-9] Send POST request to :https://jsonplaceholder.typicode.com/albums
2024-03-12 23:28:08,292 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Securing DELETE /posts/1
2024-03-12 23:28:08,556 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-10] Authenticated user
2024-03-12 23:28:08,557 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:28:08,558 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Secured DELETE /posts/1
2024-03-12 23:28:08,559 INFO r.k.v.c.PostController [http-nio-8080-exec-10] DELETE request for post with id 1
2024-03-12 23:28:08,559 INFO r.k.v.s.BaseService [http-nio-8080-exec-10] Delete post with id 1
2024-03-12 23:28:08,559 INFO r.k.v.s.BaseService [http-nio-8080-exec-10] Send DELETE request to :https://jsonplaceholder.typicode.com/posts/1
2024-03-12 23:28:11,196 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing GET /albums/1
2024-03-12 23:28:11,465 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 23:28:11,465 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:28:11,466 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured GET /albums/1
2024-03-12 23:28:11,467 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-2] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:28:12,660 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing GET /albums/1
2024-03-12 23:28:12,921 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:28:12,922 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:28:12,923 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured GET /albums/1
2024-03-12 23:28:13,801 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /albums/1
2024-03-12 23:28:14,072 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:28:14,072 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:28:14,074 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /albums/1
2024-03-12 23:28:56,471 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing DELETE /posts/1000
2024-03-12 23:28:56,733 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:28:56,734 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:28:56,734 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured DELETE /posts/1000
2024-03-12 23:28:56,736 INFO r.k.v.c.PostController [http-nio-8080-exec-4] DELETE request for post with id 1000
2024-03-12 23:28:56,736 INFO r.k.v.s.BaseService [http-nio-8080-exec-4] Delete post with id 1000
2024-03-12 23:28:56,736 INFO r.k.v.s.BaseService [http-nio-8080-exec-4] Send DELETE request to :https://jsonplaceholder.typicode.com/posts/1000
2024-03-12 23:30:48,612 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:30:48,613 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:30:48,617 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:31:30,139 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 23436 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:31:30,141 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:31:30,556 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:31:30,594 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 23:31:30,925 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:31:30,930 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:31:30,931 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:31:30,931 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:31:30,991 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:31:30,992 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 820 ms
2024-03-12 23:31:31,091 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:31:31,122 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:31:31,222 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:31:31,300 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:31:31,303 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:31:31,507 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d8056bf
2024-03-12 23:31:31,509 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:31:31,547 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:31:32,024 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:31:32,030 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:31:32,167 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:31:32,230 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:31:32,271 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:31:32,300 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:31:32,355 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:31:32,480 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@543a7605, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33997e07, org.springframework.security.web.context.SecurityContextHolderFilter@4e53c6ef, org.springframework.security.web.header.HeaderWriterFilter@5e7ea81b, org.springframework.security.web.authentication.logout.LogoutFilter@63e40188, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@75b25ec3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@345af277, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ec75228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@639bf405, org.springframework.security.web.session.SessionManagementFilter@507fecf3, org.springframework.security.web.access.ExceptionTranslationFilter@42fdf45e, org.springframework.security.web.access.intercept.AuthorizationFilter@677274e7]
2024-03-12 23:31:32,580 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:31:32,615 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:31:32,626 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:31:32,630 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.742 seconds (process running for 3.26)
2024-03-12 23:31:35,769 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:31:35,769 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:31:35,771 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-03-12 23:31:35,775 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /posts/1000
2024-03-12 23:31:36,216 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:31:36,217 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:31:36,225 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /posts/1000
2024-03-12 23:31:36,236 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 23:31:36,240 INFO r.k.v.c.PostController [http-nio-8080-exec-1] DELETE request for post with id 1000
2024-03-12 23:31:36,243 INFO r.k.v.s.BaseService [http-nio-8080-exec-1] Delete post with id 1000
2024-03-12 23:31:36,244 INFO r.k.v.s.BaseService [http-nio-8080-exec-1] Send DELETE request to :https://jsonplaceholder.typicode.com/posts/1000
2024-03-12 23:31:36,558 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 23:31:48,009 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /albums/1000
2024-03-12 23:31:48,275 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:31:48,276 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:31:48,277 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /albums/1000
2024-03-12 23:31:48,279 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:31:48,279 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.AlbumService
2024-03-12 23:31:48,281 INFO r.k.v.s.AlbumService [http-nio-8080-exec-3] Send POST request to :https://jsonplaceholder.typicode.com/albums/1000
2024-03-12 23:31:48,407 WARN r.k.v.s.AlbumService [http-nio-8080-exec-3] Album with id 1000 wasn't found:$s
2024-03-12 23:31:52,319 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Securing GET /albums/100
2024-03-12 23:31:52,583 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-5] Authenticated user
2024-03-12 23:31:52,583 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:31:52,583 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Secured GET /albums/100
2024-03-12 23:31:52,585 INFO r.k.v.s.AlbumService [http-nio-8080-exec-5] Send POST request to :https://jsonplaceholder.typicode.com/albums/100
2024-03-12 23:31:52,639 INFO r.k.v.s.AlbumService [http-nio-8080-exec-5] ALBUM: Optional[Album(userId=10, id=100, title=enim repellat iste)]
2024-03-12 23:32:51,054 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:32:51,056 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:32:51,061 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:32:54,654 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 6980 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:32:54,656 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:32:55,097 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:32:55,137 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2024-03-12 23:32:55,479 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:32:55,485 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:32:55,486 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:32:55,486 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:32:55,546 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:32:55,547 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 858 ms
2024-03-12 23:32:55,648 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:32:55,679 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:32:55,782 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:32:55,860 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:32:55,864 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:32:56,106 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1d1cfe4
2024-03-12 23:32:56,108 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:32:56,147 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:32:56,639 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:32:56,645 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:32:56,786 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:32:56,845 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:32:56,888 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:32:56,919 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:32:56,979 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:32:57,106 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1718de70, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bfc5296, org.springframework.security.web.context.SecurityContextHolderFilter@28f6a008, org.springframework.security.web.header.HeaderWriterFilter@74691677, org.springframework.security.web.authentication.logout.LogoutFilter@95aeee4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@38e88e13, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fa86ddd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@308d4981, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41736818, org.springframework.security.web.session.SessionManagementFilter@260fffec, org.springframework.security.web.access.ExceptionTranslationFilter@7d6a9d5e, org.springframework.security.web.access.intercept.AuthorizationFilter@6bbac73d]
2024-03-12 23:32:57,225 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:32:57,271 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:32:57,283 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:32:57,288 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.887 seconds (process running for 3.422)
2024-03-12 23:32:59,315 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:32:59,316 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:32:59,317 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 0 ms
2024-03-12 23:32:59,322 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /posts/1000
2024-03-12 23:32:59,776 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:32:59,777 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:32:59,785 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /posts/1000
2024-03-12 23:32:59,796 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.PostController
2024-03-12 23:32:59,799 INFO r.k.v.c.PostController [http-nio-8080-exec-1] DELETE request for post with id 1000
2024-03-12 23:32:59,812 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 23:32:59,814 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Get post with id 1000
2024-03-12 23:32:59,814 INFO r.k.v.s.PostService [http-nio-8080-exec-1] Send POST request to :https://jsonplaceholder.typicode.com/posts/1000
2024-03-12 23:33:00,366 ERROR r.k.v.s.PostService [http-nio-8080-exec-1] Error while searching for post with id 1000: 404 Not Found: "{}"
2024-03-12 23:33:09,157 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing DELETE /posts/100
2024-03-12 23:33:09,417 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:33:09,417 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:33:09,418 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured DELETE /posts/100
2024-03-12 23:33:09,419 INFO r.k.v.c.PostController [http-nio-8080-exec-3] DELETE request for post with id 100
2024-03-12 23:33:09,419 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Get post with id 100
2024-03-12 23:33:09,420 INFO r.k.v.s.PostService [http-nio-8080-exec-3] Send POST request to :https://jsonplaceholder.typicode.com/posts/100
2024-03-12 23:33:09,536 INFO r.k.v.s.BaseService [http-nio-8080-exec-3] Delete post with id 100
2024-03-12 23:33:09,536 INFO r.k.v.s.BaseService [http-nio-8080-exec-3] Send DELETE request to :https://jsonplaceholder.typicode.com/posts/100
2024-03-12 23:33:15,801 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing DELETE /posts/-20
2024-03-12 23:33:16,069 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:33:16,070 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:33:16,070 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured DELETE /posts/-20
2024-03-12 23:33:16,071 INFO r.k.v.c.PostController [http-nio-8080-exec-4] DELETE request for post with id -20
2024-03-12 23:33:16,071 INFO r.k.v.s.PostService [http-nio-8080-exec-4] Get post with id -20
2024-03-12 23:33:16,071 INFO r.k.v.s.PostService [http-nio-8080-exec-4] Send POST request to :https://jsonplaceholder.typicode.com/posts/-20
2024-03-12 23:33:16,499 ERROR r.k.v.s.PostService [http-nio-8080-exec-4] Error while searching for post with id -20: 404 Not Found: "{}"
2024-03-12 23:38:16,954 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:38:16,957 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:38:16,961 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:39:29,943 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 22492 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:39:29,946 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:39:30,385 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:39:30,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2024-03-12 23:39:30,749 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:39:30,755 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:39:30,755 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:39:30,755 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:39:30,816 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:39:30,816 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 837 ms
2024-03-12 23:39:30,915 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:39:30,945 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:39:31,050 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:39:31,127 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:39:31,130 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:39:31,338 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d8056bf
2024-03-12 23:39:31,340 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:39:31,379 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:39:31,859 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:39:31,864 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:39:32,002 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:39:32,066 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:39:32,109 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:39:32,137 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:39:32,192 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:39:32,317 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@543a7605, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33997e07, org.springframework.security.web.context.SecurityContextHolderFilter@4e53c6ef, org.springframework.security.web.header.HeaderWriterFilter@5e7ea81b, org.springframework.security.web.authentication.logout.LogoutFilter@63e40188, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@75b25ec3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@345af277, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ec75228, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@639bf405, org.springframework.security.web.session.SessionManagementFilter@507fecf3, org.springframework.security.web.access.ExceptionTranslationFilter@42fdf45e, org.springframework.security.web.access.intercept.AuthorizationFilter@677274e7]
2024-03-12 23:39:32,419 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:39:32,454 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:39:32,465 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:39:32,469 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.765 seconds (process running for 3.283)
2024-03-12 23:39:57,176 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:39:57,176 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:39:57,177 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-2] Completed initialization in 1 ms
2024-03-12 23:39:57,181 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing GET /posts/1/photos
2024-03-12 23:39:57,626 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 23:39:57,627 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:39:57,635 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured GET /posts/1/photos
2024-03-12 23:39:57,646 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing GET /error
2024-03-12 23:39:57,648 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured GET /error
2024-03-12 23:40:07,775 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /albums/1/photos
2024-03-12 23:40:08,047 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:40:08,047 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=posts, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS]]
2024-03-12 23:40:08,048 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /albums/1/photos
2024-03-12 23:40:08,051 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:40:08,055 INFO r.k.v.c.AlbumController [http-nio-8080-exec-3] GET request for album with id 1
2024-03-12 23:40:08,070 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-3] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.AlbumService
2024-03-12 23:40:08,071 INFO r.k.v.s.AlbumService [http-nio-8080-exec-3] Send POST request to :https://jsonplaceholder.typicode.com/albums/1
2024-03-12 23:40:08,350 INFO r.k.v.s.AlbumService [http-nio-8080-exec-3] ALBUM: Optional[Album(userId=1, id=1, title=quidem molestiae enim)]
2024-03-12 23:40:08,351 INFO r.k.v.s.AlbumService [http-nio-8080-exec-3] Get photos for album with id 1
2024-03-12 23:40:08,351 INFO r.k.v.s.AlbumService [http-nio-8080-exec-3] Send GET request to :https://jsonplaceholder.typicode.com/albums/1/photos
2024-03-12 23:44:11,572 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:44:11,574 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-03-12 23:44:11,578 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-03-12 23:56:43,936 INFO o.s.b.StartupInfoLogger [main] Starting ApiApplication using Java 21.0.2 with PID 12092 (C:\Projects\IDEA\vk_api\target\classes started by KirBe in C:\Projects\IDEA\vk_api)
2024-03-12 23:56:43,938 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-03-12 23:56:44,390 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-12 23:56:44,429 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2024-03-12 23:56:44,771 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-03-12 23:56:44,777 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-03-12 23:56:44,778 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-03-12 23:56:44,778 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.1]
2024-03-12 23:56:44,841 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-03-12 23:56:44,842 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 870 ms
2024-03-12 23:56:44,965 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-12 23:56:45,001 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.1.5.Final
2024-03-12 23:56:45,121 WARN o.h.b.i.MetadataBuilderImpl$MetadataBuildingOptionsImpl [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-03-12 23:56:45,216 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-03-12 23:56:45,219 WARN c.z.h.u.DriverDataSource [main] Registered driver with driverClassName=com.mysql.jdbc.Driver was not found, trying direct instantiation.
2024-03-12 23:56:45,440 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d8056bf
2024-03-12 23:56:45,442 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-03-12 23:56:45,482 INFO o.h.e.j.d.i.DialectFactoryImpl [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-03-12 23:56:45,991 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-12 23:56:45,996 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-12 23:56:46,141 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.UserRepository
2024-03-12 23:56:46,201 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.AlbumController
2024-03-12 23:56:46,251 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:56:46,283 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-03-12 23:56:46,342 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.config.WebSecurityConfig
2024-03-12 23:56:46,472 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@304704ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c7607e5, org.springframework.security.web.context.SecurityContextHolderFilter@3dd27116, org.springframework.security.web.header.HeaderWriterFilter@279e85eb, org.springframework.security.web.authentication.logout.LogoutFilter@1a99744a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4b2af0eb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@341c0dfc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bbac73d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@533a27f8, org.springframework.security.web.session.SessionManagementFilter@95aeee4, org.springframework.security.web.access.ExceptionTranslationFilter@4a249610, org.springframework.security.web.access.intercept.AuthorizationFilter@535b4dbf]
2024-03-12 23:56:46,581 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.repository.RoleRepository
2024-03-12 23:56:46,617 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-03-12 23:56:46,631 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-03-12 23:56:46,635 INFO o.s.b.StartupInfoLogger [main] Started ApiApplication in 2.943 seconds (process running for 3.457)
2024-03-12 23:57:01,516 INFO o.a.j.l.DirectJDKLog [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-12 23:57:01,516 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-03-12 23:57:01,517 INFO o.s.w.s.FrameworkServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-03-12 23:57:01,522 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Securing DELETE /users/1
2024-03-12 23:57:01,970 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-1] Authenticated user
2024-03-12 23:57:01,971 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-1] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:01,980 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-1] Secured DELETE /users/1
2024-03-12 23:57:01,990 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.controllers.UserController
2024-03-12 23:57:01,993 INFO r.k.v.c.UserController [http-nio-8080-exec-1] DELETE request for user with id 1
2024-03-12 23:57:02,011 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-1] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.UserService
2024-03-12 23:57:02,013 INFO r.k.v.s.UserService [http-nio-8080-exec-1] Get user with id 1
2024-03-12 23:57:02,013 INFO r.k.v.s.UserService [http-nio-8080-exec-1] Send request to https://jsonplaceholder.typicode.com/users/1
2024-03-12 23:57:02,265 INFO r.k.v.s.BaseService [http-nio-8080-exec-1] Delete users with id 1
2024-03-12 23:57:02,266 INFO r.k.v.s.BaseService [http-nio-8080-exec-1] Send DELETE request to :https://jsonplaceholder.typicode.com/users/1
2024-03-12 23:57:05,662 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Securing GET /users/1
2024-03-12 23:57:05,924 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-3] Authenticated user
2024-03-12 23:57:05,925 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-3] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:05,926 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-3] Secured GET /users/1
2024-03-12 23:57:05,927 INFO r.k.v.s.UserService [http-nio-8080-exec-3] Get user with id 1
2024-03-12 23:57:05,927 INFO r.k.v.s.UserService [http-nio-8080-exec-3] Send request to https://jsonplaceholder.typicode.com/users/1
2024-03-12 23:57:07,445 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Securing GET /users/1
2024-03-12 23:57:07,710 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-4] Authenticated user
2024-03-12 23:57:07,711 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-4] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:07,711 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-4] Secured GET /users/1
2024-03-12 23:57:08,631 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Securing GET /users/1
2024-03-12 23:57:08,894 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-5] Authenticated user
2024-03-12 23:57:08,896 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-5] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:08,896 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-5] Secured GET /users/1
2024-03-12 23:57:12,777 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Securing DELETE /users/1
2024-03-12 23:57:13,038 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-6] Authenticated user
2024-03-12 23:57:13,039 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-6] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:13,039 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-6] Secured DELETE /users/1
2024-03-12 23:57:13,041 INFO r.k.v.c.UserController [http-nio-8080-exec-6] DELETE request for user with id 1
2024-03-12 23:57:13,041 INFO r.k.v.s.BaseService [http-nio-8080-exec-6] Delete users with id 1
2024-03-12 23:57:13,041 INFO r.k.v.s.BaseService [http-nio-8080-exec-6] Send DELETE request to :https://jsonplaceholder.typicode.com/users/1
2024-03-12 23:57:16,744 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-7] Securing GET /users/1
2024-03-12 23:57:17,021 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-7] Authenticated user
2024-03-12 23:57:17,021 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-7] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:17,022 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-7] Secured GET /users/1
2024-03-12 23:57:17,023 INFO r.k.v.s.UserService [http-nio-8080-exec-7] Get user with id 1
2024-03-12 23:57:17,024 INFO r.k.v.s.UserService [http-nio-8080-exec-7] Send request to https://jsonplaceholder.typicode.com/users/1
2024-03-12 23:57:19,412 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Securing GET /users/1
2024-03-12 23:57:19,682 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-8] Authenticated user
2024-03-12 23:57:19,682 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-8] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=admin, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2024-03-12 23:57:19,683 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-8] Secured GET /users/1
2024-03-12 23:57:48,507 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Securing POST /posts
2024-03-12 23:57:48,577 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-9] Failed to find user 'editors'
2024-03-12 23:57:48,578 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-9] Failed to process authentication request
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:141)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:176)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-03-12 23:57:48,580 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-9] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 23:57:48,580 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-9] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@758949a3
2024-03-12 23:57:48,582 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-9] Securing POST /error
2024-03-12 23:57:48,583 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-9] Set SecurityContextHolder to anonymous SecurityContext
2024-03-12 23:57:48,585 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-9] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 23:57:48,585 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-9] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@758949a3
2024-03-12 23:58:03,819 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Securing POST /posts
2024-03-12 23:58:04,088 DEBUG o.s.s.a.d.DaoAuthenticationProvider [http-nio-8080-exec-10] Failed to authenticate since password does not match stored value
2024-03-12 23:58:04,089 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-10] Failed to process authentication request
org.springframework.security.authentication.BadCredentialsException: Bad credentials
	at org.springframework.security.authentication.dao.DaoAuthenticationProvider.additionalAuthenticationChecks(DaoAuthenticationProvider.java:79)
	at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:147)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:176)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2024-03-12 23:58:04,089 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-10] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 23:58:04,089 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-10] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@758949a3
2024-03-12 23:58:04,090 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-10] Securing POST /error
2024-03-12 23:58:04,090 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter [http-nio-8080-exec-10] Set SecurityContextHolder to anonymous SecurityContext
2024-03-12 23:58:04,090 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-10] Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]
2024-03-12 23:58:04,090 DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint [http-nio-8080-exec-10] No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@758949a3
2024-03-12 23:58:06,645 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Securing POST /posts
2024-03-12 23:58:06,906 DEBUG o.s.s.a.d.AbstractUserDetailsAuthenticationProvider [http-nio-8080-exec-2] Authenticated user
2024-03-12 23:58:06,906 DEBUG o.s.s.w.a.w.BasicAuthenticationFilter [http-nio-8080-exec-2] Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=editor, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_POSTS_ALBUMS]], Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_POSTS_ALBUMS]]
2024-03-12 23:58:06,907 DEBUG o.s.s.w.FilterChainProxy [http-nio-8080-exec-2] Secured POST /posts
2024-03-12 23:58:06,914 INFO r.k.v.c.PostController [http-nio-8080-exec-2] POST request for post Post(userId=1, id=0, title=new title, body=new body)
2024-03-12 23:58:06,915 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [http-nio-8080-exec-2] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.kduskov.vkapi.service.PostService
2024-03-12 23:58:06,917 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Create post with id 0
2024-03-12 23:58:06,918 INFO r.k.v.s.PostService [http-nio-8080-exec-2] Send POST request to :https://jsonplaceholder.typicode.com/posts
